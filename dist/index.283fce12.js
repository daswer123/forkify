!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequire3a11;function c(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||h(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){return y(e)}function k(e,t){return!t||"object"!=((n=t)&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return k(this,n)}}null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},n.parcelRequire3a11=o),o.register("Zsba3",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("bCIEV",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=t),t}})),o("Zsba3").register(JSON.parse('{"9Sd9u":"index.283fce12.js","cj7kM":"icons.9801e6f1.svg"}'));var w={},_=function(e){var t,n=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]},r=function(e,t,n,r){var a=t&&t.prototype instanceof i?t:i,o=Object.create(a.prototype),c=new p(r||[]);return o._invoke=l(e,n,c),o},a=function(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}},i=function(){},o=function(){},c=function(){},s=function(e){["next","throw","return"].forEach((function(t){n(e,t,(function(e){return this._invoke(t,e)}))}))},u=function(e,t){function n(r,i,o,c){var s=a(e[r],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&y.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}var r;this._invoke=function(e,a){function i(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(i,i):i()}},l=function(e,t,n){var r=_;return function(i,o){if(r===x)throw new Error("Generator is already running");if(r===L){if("throw"===i)throw o;return v()}for(n.method=i,n.arg=o;;){var c=n.delegate;if(c){var s=j(c,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===_)throw r=L,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=x;var u=a(e,t,n);if("normal"===u.type){if(r=n.done?L:E,u.arg===S)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=L,n.method="throw",n.arg=u.arg)}}},f=function(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)},d=function(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t},p=function(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)},h=function(e){if(e){var n=e[k];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(y.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:v}},v=function(){return{value:t,done:!0}},g=Object.prototype,y=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},k=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag";try{n({},"")}catch(e){n=function(e,t,n){return e[t]=n}}e.wrap=r;var _="suspendedStart",E="suspendedYield",x="executing",L="completed",S={},M={};n(M,k,(function(){return this}));var P=Object.getPrototypeOf,T=P&&P(P(h([])));T&&T!==g&&y.call(T,k)&&(M=T);var O=c.prototype=i.prototype=Object.create(M);function j(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return S;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var i=a(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,S;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,S):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,S)}return o.prototype=c,n(O,"constructor",c),n(c,"constructor",o),o.displayName=n(c,w,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,n(e,w,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},s(u.prototype),n(u.prototype,b,(function(){return this})),e.AsyncIterator=u,e.async=function(t,n,a,i,o){void 0===o&&(o=Promise);var c=new u(r(t,n,a,i),o);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},s(O),n(O,w,"Generator"),n(O,k,(function(){return this})),n(O,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(d),!e)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){var n=function(n,a){return o.type="throw",o.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a};if(this.done)throw e;for(var r=this,a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,S):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;d(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:h(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),S}},e}(w);try{regeneratorRuntime=_}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=_:Function("r","regeneratorRuntime = r")(_)}var E,x="https://forkify-api.herokuapp.com/api/v2/recipes/",L="daed302b-f036-411b-9618-d5e212f17989";E=o("bCIEV").getBundleURL("9Sd9u")+o("Zsba3").resolve("cj7kM");var S,M=new URL(E),P=function(e){return new Promise((function(t,n){setTimeout((function(){n(new Error("Request took too long! Timeout after ".concat(e," second")))}),1e3*e)}))},T=s(t(w).mark((function e(n){var r;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([fetch(n),P(10)]);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error(r.statusText);case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),O=s(t(w).mark((function e(n,r){var a,i;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.next=3,Promise.race([fetch("".concat(n,"?key=").concat(L),a),P(10)]);case 3:if((i=e.sent).ok){e.next=6;break}throw new Error(i.statusText);case 6:return e.next=8,i.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),j={recipe:{},search:[],bookmarks:[],page:0},H=s(t(w).mark((function e(n){var r,a;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(x,"/").concat(n,"?").concat(L),e.next=4,T(r);case 4:a=e.sent.data.recipe,j.recipe=a,j.bookmarks.some((function(e){return e.id===a.id}))?j.recipe.bookmarked=!0:j.recipe.bookmarked=!1,e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),q=s(t(w).mark((function e(n){var r,a;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("https://forkify-api.herokuapp.com/api/v2/recipes?search=").concat(n,"&key=").concat(L),e.next=4,T(r);case 4:a=e.sent.data.recipes,j.search=a,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),F=function(){return j.search.slice(15*j.page,15*(j.page+1))},I=function(e){j.bookmarks.push(e),j.recipe.bookmarked=!0},N=function(e){e.bookmarked?function(e){var t=j.bookmarks.findIndex((function(t){return t.id===e.id}));j.bookmarks=g(j.bookmarks.slice(0,t)).concat(g(j.bookmarks.slice(t+1))),j.recipe.bookmarked=!1}(e):I(e)},A=s(t(w).mark((function e(n){var r,a,i,o,c,s,u,l,f;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.cookingTime,a=n.image,i=n.publisher,o=n.servings,c=n.sourceUrl,s=n.title,u=Object.entries(n).filter((function(e){var t=v(e),n=t[0],r=t[1];return n.includes("ingredient")&&""!==r})).map((function(e){var t=v(e)[1].split(",").map((function(e){return e.trim()}));if(3!==t.length)throw new Error("Wrong Ingridient format! Please use the correct Format :)");var n=v(t),r=n[0],a=n[1],i=n[2];return{quantity:Number.isFinite(+r)&&""!==r?+r:null,unit:a,description:i}})),l={title:s,source_url:c,image_url:a,cooking_time:r,publisher:i,servings:o,ingredients:u},e.next=6,O(x,l);case 6:f=e.sent.data.recipe,I(f),f.bookmarked=!0,j.recipe=f,e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));function R(e,t,n,r,a){var o=[2,3,5];if(!0===a)for(i=3;i*i<=e;i+=2)e%i==0&&o.push(i);for(var c=0,s=e,u=t;c<=o.length;)s%o[c]==0&&u%o[c]==0?(o[c],s/=o[c],u/=o[c]):c++;return function(e,t,n,r){return 1===e&&1===t?(n="".concat(r).concat((parseInt(n)+1).toString()),"".concat(n)):0===t?"".concat(r).concat(n):"0"==n?"".concat(r).concat(t,"/").concat(e):"".concat(r).concat(n," ").concat(t,"/").concat(e)}(u,s,n,r)}S=function(e){var t;if(e<0?(e=Math.abs(e),t="-"):t="",void 0===e)return"Your input was undefined.";if(isNaN(e))return'"'.concat(e,'" is not a number.');if(1e16==e)return"".concat(t,"9999999999999999");if(e>1e16)return"Too many digits in your integer to maintain IEEE 754 Floating Point conversion accuracy.";if(Number.isInteger(e))return"".concat(t).concat(e);if(e<1e-6)return"0";var n,r=e.toString(),a=r.split("."),o=a[0];if("0"==n&&"0"!==o)return o;if("0"==n&&"0"==o)return"0";if("99"==(n=r.length>=17?a[1].slice(0,a[1].length-1):a[1])&&"0"!==o)return"".concat(o," 99/100");if("99"==n&&"0"==o)return"99/100";if(1-parseFloat(".".concat(n))<.0011&&(n="999"),null==n)return o;var c=n.split("").reverse().join("").match(/^(\d+)\1{1,2}/);if(c&&n.length>2){if(patternSequence=c[0].split("").reverse().join(""),endPattern=c[1].split("").reverse().join(""),endPattern.length>1){var s=endPattern.split(""),u=1;for(i=0;i<s.length;i++)u/=s[0]/s[i];1===u&&(endPattern=s[0])}return endPattern.length>1&&endPattern.length%2==0&&(endPattern=parseInt(endPattern.slice(0,endPattern.length/2),10)-parseInt(endPattern.slice(endPattern.length/2,endPattern.length),10)==0?endPattern.slice(0,endPattern.length/2):endPattern),function(e,t,n,r,a){var i=!0,o=e.length-n.length>=1?e.length-n.length:1,c=Math.pow(10,o),s=parseFloat("0.".concat(e)),u=Math.pow(10,t.length);return R(Math.round((s*u-s)*Math.pow(10,o)),(u-1)*c,r,a,i)}(n,endPattern,patternSequence,o,t)}return function(e,t,n){var r=!1,a=parseInt(e,10),i=Math.pow(10,e.length);return R(a,i,t,n,r)}(n,o,t)};var B=function(){"use strict";function e(t,n,r){u(this,e),this.parentEl=t,this.errorMsg=n,this.successesMsg=r}return f(e,[{key:"update",value:function(e){this.data=e;var t=this.generateMarkup(),n=document.createRange().createContextualFragment(t),r=Array.from(n.querySelectorAll("*")),a=Array.from(this.parentEl.querySelectorAll("*"));r.forEach((function(e,t){var n,r=a[t];e.isEqualNode(r)||""===(null===(n=e.firstChild)||void 0===n?void 0:n.nodeValue.trim())||(r.textContent=e.textContent),e.isEqualNode(r)||Array.from(e.attributes).forEach((function(e){r.setAttribute(e.name,e.value)}))}))}},{key:"renderSpiner",value:function(){var e='\n        <div class="spinner">\n        <svg>\n          <use href="'.concat(M.pathname,'#icon-loader"></use>\n        </svg>\n      </div>');this.parentEl.innerHTML="",this.parentEl.insertAdjacentHTML("afterbegin",e)}},{key:"renderError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errorMsg;this.parentEl.innerHTML="",this.parentEl.innerHTML='\n        <div class="error">\n          <div>\n            <svg>\n              <use href="'.concat(M,'}#icon-alert-triangle"></use>\n            </svg>\n          </div>\n          <p>').concat(e,"</p>\n        </div>\n              ")}},{key:"renderSuccesses",value:function(){this.parentEl.innerHTML="",this.parentEl.innerHTML='\n      <div class="error">\n          <div>\n            <svg>\n              <use href="'.concat(M,'}#icon-smile"></use>\n            </svg>\n          </div>\n          <p>').concat(this.successesMsg,"</p>\n        </div>\n")}}]),e}(),C=B,D=function(e){"use strict";p(r,e);var n=b(r);function r(){return u(this,r),n.call(this,document.querySelector(".recipe"),"No recipes found for your query. Please try again!","Congrat you cool cheaf")}return f(r,[{key:"_generateIngMarkup",value:function(){return this.data.ingredients.reduce((function(e,n){var r=n.quantity,a=n.unit,i=n.description;return e+'<li class="recipe__ingredient">\n      <svg class="recipe__icon">\n        <use href="'.concat(M.pathname,'#icon-check"></use>\n      </svg>\n      <div class="recipe__quantity">').concat(r?t(S)(+r,2).toString():"",'</div>\n      <div class="recipe__description">\n        <span class="recipe__unit">').concat(a,"</span>\n        ").concat(i,"\n      </div>\n    </li>")}),"")}},{key:"generateMarkup",value:function(){return'\n    <figure class="recipe__fig">\n    <img src="'.concat(this.data.image_url,'" alt="').concat(this.data.title,'" class="recipe__img" />\n    <h1 class="recipe__title">\n      <span>').concat(this.data.title,'</span>\n    </h1>\n    </figure>\n\n    <div class="recipe__details">\n    <div class="recipe__info">\n      <svg class="recipe__info-icon">\n        <use href="').concat(M.pathname,'#icon-clock"></use>\n      </svg>\n      <span class="recipe__info-data recipe__info-data--minutes">').concat(this.data.cooking_time,'</span>\n      <span class="recipe__info-text">minutes</span>\n    </div>\n    <div class="recipe__info">\n      <svg class="recipe__info-icon">\n        <use href="').concat(M.pathname,'#icon-users"></use>\n      </svg>\n      <span class="recipe__info-data recipe__info-data--people">').concat(this.data.servings,'</span>\n      <span class="recipe__info-text">servings</span>\n\n      <div class="recipe__info-buttons">\n        <button class="btn--tiny btn--update-servings" data-update-to = ').concat(this.data.servings-1,'>\n          <svg>\n            <use href="').concat(M.pathname,'#icon-minus-circle"></use>\n          </svg>\n        </button>\n        <button class="btn--tiny btn--update-servings" data-update-to = ').concat(this.data.servings+1,'>\n          <svg>\n            <use href="').concat(M.pathname,'#icon-plus-circle"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n\n    ').concat(this.data.key===L?'\n      <div class="recipe__user-generated">\n        <svg>\n          <use href="'.concat(M.pathname,'#icon-user"></use>\n        </svg>\n      </div>\n      '):"",'\n    \n    <button class="btn--round">\n      <svg class="">\n        <use href="').concat(M.pathname,"#icon-bookmark").concat(this.data.bookmarked?"-fill":"",'"></use>\n      </svg>\n    </button>\n    </div>\n\n    <div class="recipe__ingredients">\n    <h2 class="heading--2">Recipe ingredients</h2>\n    <ul class="recipe__ingredient-list">\n    ').concat(this._generateIngMarkup(),'\n\n    </ul>\n    </div>\n\n    <div class="recipe__directions">\n    <h2 class="heading--2">How to cook it</h2>\n    <p class="recipe__directions-text">\n      This recipe was carefully designed and tested by\n      <span class="recipe__publisher">').concat(this.data.publisher,'</span>. Please check out\n      directions at their website.\n    </p>\n    <a\n      class="btn--small recipe__btn"\n      href="').concat(this.data.source_url,'"\n      target="_blank"\n    >\n      <span>Directions</span>\n      <svg class="search__icon">\n        <use href="img/icons.svg#icon-arrow-right"></use>\n      </svg>\n    </a>\n    </div>')}},{key:"render",value:function(e){this.data=e,this.parentEl.innerHTML="",this.parentEl.insertAdjacentHTML("beforeend",this.generateMarkup())}},{key:"addEventHandlerSevings",value:function(e){this.parentEl.addEventListener("click",(function(t){var n=t.target.closest(".btn--update-servings");if(n){console.log(n);var r=n.dataset.updateTo;0!=+r&&e(+r)}}))}},{key:"addBookmarkHandler",value:function(e){this.parentEl.addEventListener("click",(function(t){t.target.closest(".btn--round")&&e()}))}},{key:"addEventHandler",value:function(e){window.addEventListener("hashchange",e),window.addEventListener("load",e)}},{key:"renderSuccsses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.succsessMsg;this.parentEl.innerHTML="",this.parentEl.innerHTML='\n    <div class="error">\n      <div>\n        <svg>\n          <use href="'.concat(M,'}#icon-smile"></use>\n        </svg>\n      </div>\n      <p>').concat(e,"</p>\n    </div>\n          ")}}]),r}(C),G=new D,U=new(function(){"use strict";function e(){u(this,e),this.searchForm=document.querySelector(".search"),this.searchInput=document.querySelector(".search__field")}return f(e,[{key:"addEventHandlers",value:function(e){var t=this;this.searchForm.addEventListener("submit",(function(n){n.preventDefault(),e(t.searchInput.value),t.searchInput.value=""}))}}]),e}()),Y=new(function(e){"use strict";p(n,e);var t=b(n);function n(){return u(this,n),t.call(this,document.querySelector(".results"),"No recipes found for your query. Please try again!","Congrat you cool cheaf")}return f(n,[{key:"setData",value:function(e){this.data=e}},{key:"render",value:function(){this.parentEl.innerHTML="",this.parentEl.innerHTML=this.generateMarkup()}},{key:"createSearchItemMarkup",value:function(e){var t=window.location.hash.slice(1);return'\n    <li class="preview">\n            <a class="preview__link '.concat(e.id===t?"preview__link--active":"",'" href="#').concat(e.id,'">\n              <figure class="preview__fig">\n                <img src="').concat(e.image_url,'" alt="').concat(e.title,'" />\n              </figure>\n              <div class="preview__data">\n                <h4 class="preview__title">').concat(e.title,'</h4>\n                <p class="preview__publisher">').concat(e.publisher,"</p>\n                ").concat(e.key===L?'\n                  <div class="recipe__user-generated">\n                    <svg>\n                      <use href="'.concat(M.pathname,'#icon-user"></use>\n                    </svg>\n                  </div>\n                  '):"","\n              </div>\n            </a>\n          </li>\n      ")}},{key:"generateMarkup",value:function(){var e=this;return this.data.reduce((function(t,n){return t+e.createSearchItemMarkup(n)}),"")}}]),n}(C)),J=new(function(){"use strict";function e(){u(this,e),this.parentEl=document.querySelector(".pagination")}return f(e,[{key:"nextPage",value:function(e){e.page++,this.render(e)}},{key:"prevPage",value:function(e){e.page--,this.render(e)}},{key:"addEventHandlers",value:function(e,t){var n=this;this.parentEl.addEventListener("click",(function(r){r.target.closest(".pagination__btn--prev")&&(n.prevPage(t),e()),r.target.closest(".pagination__btn--next")&&(n.nextPage(t),e())}))}},{key:"render",value:function(e){this.parentEl.innerHTML="",this.parentEl.insertAdjacentHTML("beforeend",this.generateMarkup(e))}},{key:"generateMarkup",value:function(e){return"\n        ".concat(0===e.page?"":'<button class="btn--inline pagination__btn--prev">\n            <svg class="search__icon">\n              <use href="img/icons.svg#icon-arrow-left"></use>\n            </svg>\n            <span>Page '.concat(e.page,"</span>\n           </button>"),"\n            \n        ").concat(e.search.length<=15*(e.page+1)?"":'\n        <button class="btn--inline pagination__btn--next">\n            <span>Page '.concat(e.page+2,'</span>\n            <svg class="search__icon">\n              <use href="img/icons.svg#icon-arrow-right"></use>\n            </svg>\n          </button>\n        '),"\n          \n        </div>")}}]),e}()),V=new(function(){"use strict";function e(){u(this,e),this.parentEl=document.querySelector(".bookmarks__list"),this.errorMsg='<div class="message">\n    <div>\n      <svg>\n        <use href="'.concat(M,'#icon-smile"></use>\n      </svg>\n    </div>\n    <p>\n      No bookmarks yet. Find a nice recipe and bookmark it :)\n    </p>\n  </div>\n  ')}return f(e,[{key:"render",value:function(e){this.data=e,this.parentEl.innerHTML="",this.parentEl.insertAdjacentHTML("beforeend",this.generateMarkup()),0===this.data.length&&(this.parentEl.innerHTML=this.errorMsg)}},{key:"createSearchItemMarkup",value:function(e){return'\n    <li class="preview">\n            <a class="preview__link" href="#'.concat(e.id,'">\n              <figure class="preview__fig">\n                <img src="').concat(e.image_url,'" alt="').concat(e.title,'" />\n              </figure>\n              <div class="preview__data">\n                <h4 class="preview__title">').concat(e.title,'</h4>\n                <p class="preview__publisher">').concat(e.publisher,"</p>\n                ").concat(e.key===L?'\n                  <div class="recipe__user-generated">\n                    <svg>\n                      <use href="'.concat(M.pathname,'#icon-user"></use>\n                    </svg>\n                  </div>\n                  '):"","\n              </div>\n            </a>\n          </li>\n      ")}},{key:"generateMarkup",value:function(){var e=this;return this.data.reduce((function(t,n){return t+e.createSearchItemMarkup(n)}),"")}},{key:"uploadBookmarsFromLocalStorage",value:function(){console.log(this.data),window.localStorage.setItem("bookmarks",JSON.stringify(this.data))}},{key:"loadBookmarsFromLocalStorage",value:function(){var e=window.localStorage.getItem("bookmarks");if(e&&"undefined"!==e)return this.data=JSON.parse(e),this.render(this.data),this.data}}]),e}()),W=new(function(e){"use strict";p(n,e);var t=b(n);function n(){var e;return u(this,n),(e=t.call(this,document.querySelector(".upload"),"Something get wrong","Successes Your recipy was uploaded")).overlay=document.querySelector(".overlay"),e.window=document.querySelector(".add-recipe-window"),e.addBtn=document.querySelector(".nav__btn--add-recipe"),e.closeBtn=document.querySelector(".btn--close-modal"),e.addHanlderToggleWindow(),e}return f(n,[{key:"render",value:function(){}},{key:"addHanlderToggleWindow",value:function(){this.overlay.addEventListener("click",this.toggleForm.bind(this)),this.addBtn.addEventListener("click",this.toggleForm.bind(this)),this.closeBtn.addEventListener("click",this.toggleForm.bind(this))}},{key:"addHanlderUpload",value:function(e){this.parentEl.addEventListener("submit",(function(t){t.preventDefault();var n=g(new FormData(this)),r=Object.fromEntries(n);e(r)}))}},{key:"toggleForm",value:function(){this.overlay.classList.toggle("hidden"),this.window.classList.toggle("hidden")}}]),n}(C)),Z=s(t(w).mark((function e(){var n;return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=window.location.hash.slice(1)){e.next=4;break}return e.abrupt("return");case 4:return G.renderSpiner(),Y.update(F()),e.next=8,H(n);case 8:console.log(j.recipe),G.render(j.recipe),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),G.renderError();case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),$=function(){Y.setData(F()),Y.render()},z=s(t(w).mark((function e(n){return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Y.renderSpiner(),e.next=4,q(n);case 4:if(j.search.length){e.next=6;break}throw new Error("No match result");case 6:Y.setData(j.search),Y.render(),j.page=0,J.render(j),$(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),Y.renderError();case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),K=function(e){var t;t=e,j.recipe.ingredients.forEach((function(e){e.quantity&&(e.quantity=Math.round(e.quantity/j.recipe.servings*t*100)/100)})),j.recipe.servings=t,G.update(j.recipe)},Q=function(){N(j.recipe),G.update(j.recipe),V.render(j.bookmarks),V.uploadBookmarsFromLocalStorage()},X=s(t(w).mark((function e(n){return t(w).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W.renderSpiner(),e.next=4,A(n);case 4:G.render(j.recipe),V.uploadBookmarsFromLocalStorage(j.bookmarks),V.render(j.bookmarks),W.renderSuccesses("Your recept successes was upload, GOOD ✨✨✨"),window.location.hash=j.recipe.id,setTimeout((function(){return location.reload()}),1e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),W.renderError("Opps, something get wrong try again"),setTimeout((function(){return location.reload()}),1e3);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));G.addEventHandler(Z),G.addEventHandlerSevings(K),G.addBookmarkHandler(Q),U.addEventHandlers(z),J.addEventHandlers($,j),W.addHanlderUpload(X),j.bookmarks=V.loadBookmarsFromLocalStorage()}();
//# sourceMappingURL=index.283fce12.js.map
